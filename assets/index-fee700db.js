(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const s=document.querySelector("#gameBoard"),x=document.querySelector("#score"),p=300,a=10,c=p/a,C="white";let y=null,u=0,L=100;s.style.width=p+"px";s.style.height=p+"px";let d=[];for(let t=0;t<c;t++){d[t]=[];for(let e=0;e<c;e++)d[t][e]=null}const k=3;let o={body:[],direction:"right",getTailCell(){return this.body[0].element}};function b(){o.body=[],o.direction="right",u=0,s.innerHTML="",x.innerHTML=u;for(let t=0;t<c;t++){d[t]=[];for(let e=0;e<c;e++)d[t][e]=null}w();for(let t=0;t<k;t++){o.body.push({x:t,y:0});let e=f(o.body[t].x,o.body[t].y);s.appendChild(e),o.body[t].element=e}}function f(t,e,r){let l=document.createElement("div");return l.style.width=a+"px",l.style.height=a+"px",l.style.background=C,l.style.position="absolute",l.style.boxSizing="border-box",l.style.border="black 1px solid",l.style.top=e*a+"px",l.style.left=t*a+"px",l}function g(){let t=o.body[o.body.length-1],e={};switch(o.direction){case"right":e={x:t.x+1,y:t.y};break;case"left":e={x:t.x-1,y:t.y};break;case"up":e={x:t.x,y:t.y-1};break;case"down":e={x:t.x,y:t.y+1};break}if(e.x<0||e.x>=c||e.y<0||e.y>=c)m();else if(d[e.x][e.y]!==null)m();else if(e.x===y.x&&e.y===y.y){let r=f(e.x,e.y);s.appendChild(r),o.body.push({x:e.x,y:e.y,element:r}),d[e.x][e.y]=o.body[o.body.length-1].element,y=null}else{let r=f(e.x,e.y),l=o.getTailCell();s.appendChild(r),s.removeChild(l),o.body.push({x:e.x,y:e.y,element:r});let n=o.body.shift();d[n.x][n.y]=null,d[e.x][e.y]=o.body[o.body.length-1].element}M(),setTimeout(g,L)}function M(){y===null&&(w(),u++,x.innerHTML=u)}function w(){let t=null;for(;t===null||O(t);)t={x:Math.floor(Math.random()*(c-1))+1,y:Math.floor(Math.random()*(c-1))+1};const e=document.getElementById("food");e&&e.parentNode.removeChild(e),y=t;const r=f(y.x,y.y);r.id="food",s.appendChild(r)}function O(t,{ignoreHead:e=!1}={}){return o.body.some((r,l)=>e&&l===0?!1:E(r,t))}function E(t,e){return t.x===e.x&&t.y===e.y}b();g();function m(){console.log(d),alert("game over"),b()}document.addEventListener("keydown",function(t){t.key==="ArrowRight"&&o.direction!=="left"?o.direction="right":t.key==="ArrowLeft"&&o.direction!=="right"?o.direction="left":t.key==="ArrowUp"&&o.direction!=="down"?o.direction="up":t.key==="ArrowDown"&&o.direction!=="up"&&(o.direction="down")});
